<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - reyz Portfolio</title>
    <link rel="stylesheet" href="src/styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <header class="header">
        <div class="logo">Portfolio</div>
        <nav>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="about.html">ABOUT</a></li>
                <li><a href="projects.html">PROJECTS</a></li>
                <li><a href="blog.html">BLOG</a></li>
                <li><a href="contact.html" class="active">CONTACT</a></li>
            </ul>
        </nav>
    </header>
    <main class="main-content">
        <a id="contact-form"></a>
        <div class="min-h-screen bg-transparent-800 flex items-center justify-center p-10">
          <div class="contact-form-container">
            <form class="contact-form-box">
              <h2>Send Me a Message</h2>
              <p class="contact-form-subtext">Fill out the form below and I'll get back to you as soon as possible.</p>
              <div class="contact-form-row">
                <div class="contact-form-col left">
                  <div class="form-group">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" name="name" required placeholder="Enter your name" />
                  </div>
                  <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required placeholder="Enter your email" />
                  </div>
                  <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number" />
                  </div>
                </div>
                <div class="contact-form-col right">
                  <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required placeholder="What is this regarding?" />
                  </div>
                  <div class="form-group">
                    <label for="message">Your Message</label>
                    <textarea id="message" name="message" rows="7" required placeholder="Tell me about your project or inquiry"></textarea>
                  </div>
                </div>
              </div>
              <button type="submit" class="contact-form-btn">Send Message</button>
            </form>
          </div>
        </div>
    </main>
        <!-- Contact Form Handler -->
    <script>
      // Simple form submission function (fallback when Convex client fails to load)
      async function submitToConvexAPI(formData) {
        try {
          // Option 1: Simulate successful submission (for testing)
          console.log("Simulating successful form submission:", formData);
          
          // Simulate network delay
          await new Promise(resolve => setTimeout(resolve, 1000));
          
          // Return success response
          return {
            success: true,
            messageId: "simulated-" + Date.now()
          };
          
          /* 
          // Option 2: Send to a real backend service (uncomment and configure)
          const response = await fetch("https://your-backend-service.com/api/contact", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData)
          });
          
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          
          return await response.json();
          */
          
          /*
          // Option 3: Send via email service (uncomment and configure)
          const emailData = {
            to: "reyzmerly9@gmail.com",
            subject: `New Contact Form Message: ${formData.subject}`,
            text: `
              Name: ${formData.name}
              Email: ${formData.email}
              Phone: ${formData.phone}
              Subject: ${formData.subject}
              Message: ${formData.message}
            `
          };
          
          const response = await fetch("https://api.emailjs.com/api/v1.0/email/send", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(emailData)
          });
          
          return { success: true };
          */
          
        } catch (error) {
          console.error("Form submission error:", error);
          throw error;
        }
      }
      
      // Try to load Convex client, fallback to direct API if it fails
      let convex = null;
      
      async function loadConvexClient() {
        try {
          // Try different CDNs for the script
          const cdnUrls = [
            'https://unpkg.com/convex@1.25.4/dist/umd/index.js',
            'https://cdn.jsdelivr.net/npm/convex@1.25.4/dist/umd/index.js',
            'https://cdnjs.cloudflare.com/ajax/libs/convex/1.25.4/umd/index.js'
          ];
          
          let scriptLoaded = false;
          
          for (const cdnUrl of cdnUrls) {
            try {
              console.log(`Trying CDN: ${cdnUrl}`);
              
              const script = document.createElement('script');
              script.src = cdnUrl;
              
              await new Promise((resolve, reject) => {
                script.onload = () => {
                  console.log(`Script loaded successfully from: ${cdnUrl}`);
                  resolve();
                };
                script.onerror = () => {
                  console.log(`Failed to load from: ${cdnUrl}`);
                  reject(new Error(`Failed to load from ${cdnUrl}`));
                };
                document.head.appendChild(script);
              });
              
              scriptLoaded = true;
              break;
            } catch (error) {
              console.log(`CDN failed: ${cdnUrl}`, error);
              continue;
            }
          }
          
          // Wait for script to initialize
          await new Promise(resolve => setTimeout(resolve, 1000));
          
          if (typeof Convex !== 'undefined') {
            convex = new Convex.ConvexHttpClient("https://sincere-blackbird-436.convex.cloud");
            console.log("Convex client initialized successfully");
            return true;
          } else {
            throw new Error("Convex not available after loading");
          }
        } catch (error) {
          console.log("Using direct API fallback:", error.message);
          return false;
        }
      }
      
      // Success message function
      function showSuccessMessage(message) {
        // Create success message element
        const successDiv = document.createElement('div');
        successDiv.id = 'successMessage';
        successDiv.innerHTML = `
          <div class="success-message">
            <div class="success-icon">✅</div>
            <div class="success-text">${message.replace(/\n/g, '<br>')}</div>
          </div>
        `;
        
        // Add styles
        successDiv.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1000;
          animation: slideIn 0.5s ease-out;
        `;
        
        // Add animation styles
        const style = document.createElement('style');
        style.textContent = `
          @keyframes slideIn {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          
          .success-message {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
            border: 1px solid #34d399;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 300px;
            max-width: 400px;
          }
          
          .success-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
          }
          
          .success-text {
            font-size: 0.95rem;
            line-height: 1.4;
            font-weight: 500;
          }
        `;
        
        document.head.appendChild(style);
        document.body.appendChild(successDiv);
        
        // Remove message after 5 seconds
        setTimeout(() => {
          if (successDiv.parentNode) {
            successDiv.style.animation = 'slideOut 0.5s ease-in forwards';
            setTimeout(() => {
              if (successDiv.parentNode) {
                successDiv.parentNode.removeChild(successDiv);
              }
            }, 500);
          }
        }, 5000);
        
        // Add slideOut animation
        const slideOutStyle = document.createElement('style');
        slideOutStyle.textContent = `
          @keyframes slideOut {
            from {
              transform: translateX(0);
              opacity: 1;
            }
            to {
              transform: translateX(100%);
              opacity: 0;
            }
          }
        `;
        document.head.appendChild(slideOutStyle);
      }
      
      // Add loading spinner styles
      const loadingStyle = document.createElement('style');
      loadingStyle.textContent = `
        .loading-spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid #ffffff;
          border-radius: 50%;
          border-top-color: transparent;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `;
      document.head.appendChild(loadingStyle);
      
      // Error message function
      function showErrorMessage(message) {
        // Create error message element
        const errorDiv = document.createElement('div');
        errorDiv.id = 'errorMessage';
        errorDiv.innerHTML = `
          <div class="error-message">
            <div class="error-icon">❌</div>
            <div class="error-text">${message}</div>
          </div>
        `;
        
        // Add styles
        errorDiv.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1000;
          animation: slideIn 0.5s ease-out;
        `;
        
        // Add error message styles
        const errorStyle = document.createElement('style');
        errorStyle.textContent = `
          .error-message {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.3);
            border: 1px solid #f87171;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 300px;
            max-width: 400px;
          }
          
          .error-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
          }
          
          .error-text {
            font-size: 0.95rem;
            line-height: 1.4;
            font-weight: 500;
          }
        `;
        
        document.head.appendChild(errorStyle);
        document.body.appendChild(errorDiv);
        
        // Remove message after 8 seconds (longer for errors)
        setTimeout(() => {
          if (errorDiv.parentNode) {
            errorDiv.style.animation = 'slideOut 0.5s ease-in forwards';
            setTimeout(() => {
              if (errorDiv.parentNode) {
                errorDiv.parentNode.removeChild(errorDiv);
              }
            }, 500);
          }
        }, 8000);
      }
      
      // Initialize when page loads
      window.addEventListener('load', async () => {
        await loadConvexClient();
      });
      
      // Contact form submission handler
      const form = document.querySelector("form");
      const submitBtn = form.querySelector("button[type='submit']");
      const originalBtnText = submitBtn.textContent;
      
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        
        // Check if Convex is loaded, use fallback if not
        if (!convex) {
          console.log("Convex client not available, using direct API fallback...");
        }
        
        // Get form data
        const formData = {
          name: form.querySelector("#name").value.trim(),
          email: form.querySelector("#email").value.trim(),
          phone: form.querySelector("#phone").value.trim(),
          subject: form.querySelector("#subject").value.trim(),
          message: form.querySelector("#message").value.trim(),
        };
        
        // Basic validation
        if (!formData.name || !formData.email || !formData.message) {
          alert("Please fill in all required fields (Name, Email, and Message)");
          return;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(formData.email)) {
          alert("Please enter a valid email address");
          return;
        }
        
        // Show loading state
        submitBtn.innerHTML = '<span class="loading-spinner"></span> Sending...';
        submitBtn.disabled = true;
        
        try {
          console.log("Submitting form data:", formData);
          
          let result;
          
          // Try Convex client first, fallback to direct API
          if (convex) {
            console.log("Using Convex client...");
            result = await convex.mutation("contact:submitContactForm", formData);
          } else {
            console.log("Using direct API fallback...");
            result = await submitToConvexAPI(formData);
          }
          
          console.log("Submission result:", result);
          
          if (result.success) {
            // Show success message
            showSuccessMessage("Message sent successfully! 🚀\nI'll get back to you soon.");
            form.reset();
          } else {
            throw new Error("Failed to send message");
          }
        } catch (error) {
          console.error("Error submitting form:", error);
          showErrorMessage("Sorry, there was an error sending your message. Please try again or contact me directly at reyzmerly9@gmail.com");
        } finally {
          // Reset button state
          submitBtn.textContent = originalBtnText;
          submitBtn.disabled = false;
        }
      });
    </script>
</body>
</html> <!-- Those codes are protected and cannot be used without permission
Please contact @reyzmerly2025 for any questions or inquiries or collaboration : reyzmerly9@gmail.com -->